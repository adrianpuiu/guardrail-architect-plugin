# Guardrail Architect — .NET EditorConfig
# Enforces code style and nullable reference types at compile time.
root = true

[*.cs]
# Formatting
indent_style = space
indent_size = 4
max_line_length = 120
insert_final_newline = true
charset = utf-8

# Nullable reference types — catch null bugs at compile time
# These turn warnings into ERRORS so agents can't ignore them
dotnet_diagnostic.CS8600.severity = error   # Null literal to non-nullable
dotnet_diagnostic.CS8601.severity = error   # Possible null reference assignment
dotnet_diagnostic.CS8602.severity = error   # Dereference of possibly null reference
dotnet_diagnostic.CS8603.severity = error   # Possible null reference return
dotnet_diagnostic.CS8604.severity = error   # Possible null reference argument
dotnet_diagnostic.CS8618.severity = error   # Non-nullable field uninitialized
dotnet_diagnostic.CS8625.severity = error   # Cannot convert null literal

# Code style
dotnet_style_qualification_for_field = false:warning
dotnet_style_qualification_for_property = false:warning
dotnet_style_qualification_for_method = false:warning
dotnet_style_qualification_for_event = false:warning
csharp_style_var_for_built_in_types = true:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = false:suggestion
csharp_using_directive_placement = outside_namespace:error
csharp_prefer_braces = true:warning
csharp_style_expression_bodied_methods = when_on_single_line:suggestion

# Naming rules
dotnet_naming_rule.interfaces_must_begin_with_i.severity = error
dotnet_naming_rule.interfaces_must_begin_with_i.symbols = interfaces
dotnet_naming_rule.interfaces_must_begin_with_i.style = begins_with_i
dotnet_naming_symbols.interfaces.applicable_kinds = interface
dotnet_naming_style.begins_with_i.required_prefix = I

dotnet_naming_rule.async_methods_must_end_with_async.severity = warning
dotnet_naming_rule.async_methods_must_end_with_async.symbols = async_methods
dotnet_naming_rule.async_methods_must_end_with_async.style = ends_with_async
dotnet_naming_symbols.async_methods.required_modifiers = async
dotnet_naming_style.ends_with_async.required_suffix = Async

# Complexity warnings
dotnet_diagnostic.CA1502.severity = warning  # Avoid excessive complexity
dotnet_diagnostic.CA1505.severity = warning  # Avoid unmaintainable code
dotnet_diagnostic.CA1506.severity = warning  # Avoid excessive class coupling
